macro doit a=1 b=6 read=0 file=pixelization.out

if ([read].eq.1) then
* n/cre 1 '' 5 ! ! cx cy ci cj n
n/cre 1 '' 3 ! ! cx cy n
n/read 1 [file]
endif

c=1

size 20 20
null -18 18 -18 18
set mtyp 1
 
do i=[a],[b]

  set pmci [c]
  c = [c] + 1
  if ([c].gt.6) then
    c = 1
  endif

  mess [i]
  n/pl 1.cy%cx n.eq.[i] ! ! ! s
*  wait

enddo

atitle 'X' 'Y'

* SET PLCI 2
* SET LWID 10
* exe pixel  0  0 
* SET PLCI 1
* SET LWID 1
* exe pixel  3  0 
* exe pixel  1.5  2.4821
* exe pixel  -1.5  2.4821
* exe pixel  -1.5  -2.4821
* exe pixel  -3  0 
* exe pixel  1.5  -2.4821
* 
* SET PLCI 4
* SET LWID 5
* exe wrongpixel  0  0 
* SET PLCI 1
* SET LWID 1

return

*------------------------------------------------------------

macro pixel px py

v/cre x(7) r 1.5 1.5 0 -1.5 -1.5 0 1.5
v/cre y(7) r -.75 .75 1.7321 .75 -.75 -1.7321 -.75

sigma x=x+[px]
sigma y=y+[py]

pline 7 x y

return

*------------------------------------------------------------

macro wrongpixel px py

v/cre x(5) r 2.25 -.75 -2.25 .75 2.25
v/cre y(5) r 1.2991 1.2991 -1.2991 -1.2991 1.2991

sigma x=x+[px]
sigma y=y+[py]

pline 5 x y

return


